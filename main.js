(()=>{"use strict";class e{menu1=[{name:"Ramen Tonkotsu Yokohama Style",desc:"Chasu, menma, blanszowany szpinak, jajo nitamago, drobno siekana cebula, olej z palonego czosnku, siekany por, nori i...",price:"36,00 zł",imgURL:"assets/tonkotsu.jpeg"},{name:"Tantanmen",desc:"Mięsny ramen na gęstym wywarze kotteri z dodatkiem mielonej wieprzowiny marynowanej na ostro. Kotteri to ciężki, bogaty wywar...",price:"35,00 zł",imgURL:"assets/tantanmen.jpeg"},{name:"Spicy Chicken",desc:"Ramen na wywarze drobiowym. Długo gotowany, klarowny, głęboki, z dodatkiem ostrego chilli tare. Na toppingu: marynowane na ostro...",price:"37,00 zł",imgURL:"assets/spicy-chicken.jpeg"},{name:"Asakusa Tori Shoyu",desc:"Unikalne shoyu przygotowane wspólnie z mistrzem Kohei Yagi. Drobiowo-wieprzowy bulion assari, specjalnie dedykowany makaron, karkówka...",price:"37,00 zł",imgURL:"assets/asakusa.jpeg"},{name:"Hokkaido",desc:"Wegański, ryżowy wywar z dedykowanym, sezamowym tare na bazie tahiny i miso. Na toppingu: pieczona dynia hokkaido, tofu, por, dymka, nitki...",price:"37,00 zł",imgURL:"assets/hokkaido.jpeg"}];menu2=[{name:"Miso Ramen",desc:"Ramen na wywarze drobiowym z dodatkiem tare miso - pasty ze sfermentowanych nasion soi. Na toppingu: wołowina, jajko ajitsuke, palony por...",price:"37,00 zł",imgURL:"assets/miso.jpeg"},{name:"Kimchi Ramen",desc:"Autorski ramen na bazie wody spod fermentacji naszego kimchi i klarownego wywaru drobiowego assari. Na toppingu: schab sous vide, jajko ajitsuke, kimchi...",price:"37,00 zł",imgURL:"assets/kimchi.jpeg"}];test(){console.log("BodyBuilder works")}build(e){return e===t?this.buildAboutUsPage():e===n?this.buildMenuPage():e===a?this.buildContactPage():void 0}buildMenuPage(){const e=document.createElement("div");e.classList.add("container");const t=document.createElement("h2");t.textContent="Z myślą o Tobie";const n=document.createElement("div");n.classList.add("items"),e.appendChild(t);for(let e of this.menu1)n.appendChild(this.createItem(e));e.appendChild(n);const a=document.createElement("h2");a.textContent="Assari Ramen",e.appendChild(a);const d=document.createElement("div");d.classList.add("items");for(let e of this.menu2)d.appendChild(this.createItem(e));return e.appendChild(d),e}createItem(e){if(e){const t=document.createElement("div");t.classList.add("item");const n=document.createElement("div");n.classList.add("info");const a=document.createElement("div");a.classList.add("flex-grow");const d=document.createElement("h3");d.textContent=e.name;const i=document.createElement("p");i.textContent=e.desc,a.appendChild(d),a.appendChild(i),n.appendChild(a);const o=document.createElement("span");o.classList.add("price"),o.textContent=e.price,n.appendChild(o);const s=document.createElement("div");s.classList.add("photo");const c=document.createElement("img");return c.src=e.imgURL,c.alt=e.name,s.appendChild(c),t.appendChild(n),t.appendChild(s),t}return null}buildAboutUsPage(){const e=document.createElement("div");e.classList.add("container","about-container");const t=document.createElement("h2");t.textContent="O nas";const n=document.createElement("div");n.classList.add("about");const a=document.createElement("div");a.classList.add("about-photo");const d=document.createElement("img");d.src="assets/ramen-people-door.png",d.alt="Ramen People Entrance",a.appendChild(d);const i=document.createElement("div");i.classList.add("about-text");const o=document.createElement("h1");o.textContent="Ramen People ラーメン•ピープル";const s=document.createElement("p");s.textContent="The Real Ramen. Tylko u nas w Krakowie poznacie to danie w wielu oryginalnych japońskich odsłonach.";const c=document.createElement("img");return c.src="assets/ramen-people-logo.jpg",c.alt="Ramen People Logo",i.appendChild(o),i.appendChild(s),i.appendChild(c),n.appendChild(a),n.appendChild(i),e.appendChild(t),e.appendChild(n),e}buildContactPage(){const e=document.createElement("div");e.classList.add("container","contact-container");const t=document.createElement("h2");t.textContent="Kontakt",e.appendChild(t);const n=document.createElement("div");n.classList.add("contact-info-wrapper");const a=document.createElement("div");a.classList.add("map-wrapper"),n.appendChild(a);const d=document.createElement("div");d.classList.add("contact-info");const i=document.createElement("h1");i.textContent="Ramen People - Nadwiślańska",d.appendChild(i);const o=document.createElement("div");o.classList.add("muted","row"),o.textContent="Japońskie • Miseczki ryżu • Azjatyckie • $$",d.appendChild(o);const s=document.createElement("div");s.classList.add("info","row");const c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("width","24"),c.setAttribute("height","24");const l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d","M17.5834 5.16602C14.5001 2.08268 9.50008 2.08268 6.41675 5.16602C3.33341 8.24935 3.33341 13.3327 6.41675 16.416L12.0001 21.9993L17.5834 16.3327C20.6667 13.3327 20.6667 8.24935 17.5834 5.16602ZM12.0001 12.416C11.0834 12.416 10.3334 11.666 10.3334 10.7493C10.3334 9.83268 11.0834 9.08268 12.0001 9.08268C12.9167 9.08268 13.6667 9.83268 13.6667 10.7493C13.6667 11.666 12.9167 12.416 12.0001 12.416Z"),l.setAttribute("fill","#000000"),c.appendChild(l),s.appendChild(c);const r=document.createElement("span");r.textContent="Nadwiślańska 5/L1, Kraków, 30-527",s.appendChild(r),d.appendChild(s);const m=document.createElement("div");m.classList.add("info","row");const p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttribute("width","24"),p.setAttribute("height","24");const u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d","M12 2.83398C6.91671 2.83398 2.83337 6.91732 2.83337 12.0007C2.83337 17.084 6.91671 21.1673 12 21.1673C17.0834 21.1673 21.1667 17.084 21.1667 12.0007C21.1667 6.91732 17.0834 2.83398 12 2.83398ZM17 13.6673H10.3334V5.33398H12.8334V11.1673H17V13.6673Z"),u.setAttribute("fill","#000000"),p.appendChild(u),m.appendChild(p);const h=document.createElement("span");h.textContent="Otwarte do 9:00 PM",m.appendChild(h),d.appendChild(m);const C=document.createElement("div");C.classList.add("info","row");const w=document.createElementNS("http://www.w3.org/2000/svg","svg");w.setAttribute("width","24"),w.setAttribute("height","24");const g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d","M12.458 1l3.646 7 7.813.5-5.73 5.5 2.084 8-7.813-4-7.812 4 2.083-8L1 8.5 8.813 8l3.645-7z"),g.setAttribute("fill","#000000"),w.appendChild(g),C.appendChild(w);const b=document.createElement("span");return b.textContent="4.8 (liczba ocen: 200+)",C.appendChild(b),d.appendChild(C),n.appendChild(d),e.appendChild(n),e}}const t="about-us",n="menu",a="contact";(new class{content=document.querySelector("#content");navButtons=document.querySelectorAll(".nav-item button");constructor(){this.bodyBuilder=new e,this.bodyBuilder.test()}buildHeader(){const e=document.createElement("div");e.classList.add("company");const t=document.createElement("div");t.classList.add("gradient");const n=document.createElement("div");n.classList.add("container"),n.classList.add("p-30");const a=document.createElement("h1");a.classList.add("title"),a.textContent="Ramen People ラーメン•ピープル - Nadwiślańska",n.appendChild(a);const d=document.createElement("p");d.innerHTML="<span class='rating'>4.8(200+)</span> • Wyświetl czas dostawy i opłatę za zlecenie. <a href='#'>Podaj adres dostawy</a>",n.appendChild(d);const i=document.createElement("button");i.classList.add("fav-button");const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width","24"),o.setAttribute("height","24");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M16 5c2.5 0 4 1.9 4 4.2 0 1.2-.6 2.3-1.3 3.1C17.5 13.5 12 18 12 18s-5.5-4.5-6.7-5.7C4.5 11.5 4 10.4 4 9.2 4 6.9 5.5 5 8 5c1.7 0 3.3 1.6 4 3 .7-1.4 2.3-3 4-3zm0-3c-1.5 0-2.9.6-4 1.4C10.9 2.5 9.5 2 8 2 4 2 1 5.1 1 9.2c0 1.9.8 3.7 2.2 5.2 1.4 1.5 8.8 7.5 8.8 7.5s7.4-6 8.8-7.5c1.4-1.5 2.2-3.3 2.2-5.2C23 5.1 20 2 16 2z"),o.appendChild(s),i.appendChild(o),n.appendChild(i),t.appendChild(n),e.appendChild(t),e}buildNav(e){const d=document.createElement("div");d.classList.add("container");const i=document.createElement("nav");i.classList.add("nav");const o=document.createElement("div");o.classList.add("nav-item");const s=document.createElement("button");s.textContent="O nas",s.addEventListener("click",(e=>{this.handleClickAboutUs(e)})),e===t&&s.classList.add("active"),o.appendChild(s);const c=document.createElement("div");c.classList.add("nav-item");const l=document.createElement("button");l.textContent="Menu",l.addEventListener("click",(e=>{this.handleClickMenu(e)})),e===n&&l.classList.add("active"),c.appendChild(l);const r=document.createElement("div");r.classList.add("nav-item");const m=document.createElement("button");return m.textContent="Kontakt",m.addEventListener("click",(e=>{this.handleClickContact(e)})),e===a&&m.classList.add("active"),r.appendChild(m),i.appendChild(o),i.appendChild(c),i.appendChild(r),d.appendChild(i),d}handleClickAboutUs(e){this.rebuild(t)}handleClickMenu(e){this.rebuild(n)}handleClickContact(e){this.rebuild(a)}buildFooter(){const e=document.createElement("footer");e.classList.add("mt-30");const t=document.createElement("span");return t.innerHTML="Created by <a href='https://github.com/fbiernat'>fbiernat</a> 2021",e.appendChild(t),e}clearDOM(){this.content.textContent=""}build(){this.rebuild(t)}rebuild(e){this.clearDOM(),this.content.appendChild(this.buildHeader()),this.content.appendChild(this.buildNav(e));let t=this.bodyBuilder.build(e);this.content.appendChild(t),this.content.append(this.buildFooter())}}).build()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UWtDLE9BQU9yRixLQUFLZ0Ysa0JDcEpqQm5GLFMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50LXBhZ2UvLi9zcmMvYm9keS1idWlsZGVyLmpzIiwid2VicGFjazovL3Jlc3RhdXJhbnQtcGFnZS8uL3NyYy9zaXRlLWJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vcmVzdGF1cmFudC1wYWdlLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFCT1VUX1VTLCBNRU5VLCBDT05UQUNUIH0gZnJvbSBcIi4vc2l0ZS1idWlsZGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBCb2R5QnVpbGRlciB7XG4gIG1lbnUxID0gW1xuICAgIHtcbiAgICAgIG5hbWU6IFwiUmFtZW4gVG9ua290c3UgWW9rb2hhbWEgU3R5bGVcIixcbiAgICAgIGRlc2M6IFwiQ2hhc3UsIG1lbm1hLCBibGFuc3pvd2FueSBzenBpbmFrLCBqYWpvIG5pdGFtYWdvLCBkcm9ibm8gc2lla2FuYSBjZWJ1bGEsIG9sZWogeiBwYWxvbmVnbyBjem9zbmt1LCBzaWVrYW55IHBvciwgbm9yaSBpLi4uXCIsXG4gICAgICBwcmljZTogXCIzNiwwMCB6xYJcIixcbiAgICAgIGltZ1VSTDogXCJhc3NldHMvdG9ua290c3UuanBlZ1wiLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCJUYW50YW5tZW5cIixcbiAgICAgIGRlc2M6IFwiTWnEmXNueSByYW1lbiBuYSBnxJlzdHltIHd5d2FyemUga290dGVyaSB6IGRvZGF0a2llbSBtaWVsb25laiB3aWVwcnpvd2lueSBtYXJ5bm93YW5laiBuYSBvc3Ryby4gS290dGVyaSB0byBjacSZxbxraSwgYm9nYXR5IHd5d2FyLi4uXCIsXG4gICAgICBwcmljZTogXCIzNSwwMCB6xYJcIixcbiAgICAgIGltZ1VSTDogXCJhc3NldHMvdGFudGFubWVuLmpwZWdcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6IFwiU3BpY3kgQ2hpY2tlblwiLFxuICAgICAgZGVzYzogXCJSYW1lbiBuYSB3eXdhcnplIGRyb2Jpb3d5bS4gRMWCdWdvIGdvdG93YW55LCBrbGFyb3dueSwgZ8WCxJlib2tpLCB6IGRvZGF0a2llbSBvc3RyZWdvIGNoaWxsaSB0YXJlLiBOYSB0b3BwaW5ndTogbWFyeW5vd2FuZSBuYSBvc3Ryby4uLlwiLFxuICAgICAgcHJpY2U6IFwiMzcsMDAgesWCXCIsXG4gICAgICBpbWdVUkw6IFwiYXNzZXRzL3NwaWN5LWNoaWNrZW4uanBlZ1wiLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCJBc2FrdXNhIFRvcmkgU2hveXVcIixcbiAgICAgIGRlc2M6IFwiVW5pa2FsbmUgc2hveXUgcHJ6eWdvdG93YW5lIHdzcMOzbG5pZSB6IG1pc3RyemVtIEtvaGVpIFlhZ2kuIERyb2Jpb3dvLXdpZXByem93eSBidWxpb24gYXNzYXJpLCBzcGVjamFsbmllIGRlZHlrb3dhbnkgbWFrYXJvbiwga2Fya8Ozd2thLi4uXCIsXG4gICAgICBwcmljZTogXCIzNywwMCB6xYJcIixcbiAgICAgIGltZ1VSTDogXCJhc3NldHMvYXNha3VzYS5qcGVnXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiBcIkhva2thaWRvXCIsXG4gICAgICBkZXNjOiBcIldlZ2HFhHNraSwgcnnFvG93eSB3eXdhciB6IGRlZHlrb3dhbnltLCBzZXphbW93eW0gdGFyZSBuYSBiYXppZSB0YWhpbnkgaSBtaXNvLiBOYSB0b3BwaW5ndTogcGllY3pvbmEgZHluaWEgaG9ra2FpZG8sIHRvZnUsIHBvciwgZHlta2EsIG5pdGtpLi4uXCIsXG4gICAgICBwcmljZTogXCIzNywwMCB6xYJcIixcbiAgICAgIGltZ1VSTDogXCJhc3NldHMvaG9ra2FpZG8uanBlZ1wiLFxuICAgIH0sXG4gIF07XG5cbiAgbWVudTIgPSBbXG4gICAge1xuICAgICAgbmFtZTogXCJNaXNvIFJhbWVuXCIsXG4gICAgICBkZXNjOiBcIlJhbWVuIG5hIHd5d2FyemUgZHJvYmlvd3ltIHogZG9kYXRraWVtIHRhcmUgbWlzbyAtIHBhc3R5IHplIHNmZXJtZW50b3dhbnljaCBuYXNpb24gc29pLiBOYSB0b3BwaW5ndTogd2/Fgm93aW5hLCBqYWprbyBhaml0c3VrZSwgcGFsb255IHBvci4uLlwiLFxuICAgICAgcHJpY2U6IFwiMzcsMDAgesWCXCIsXG4gICAgICBpbWdVUkw6IFwiYXNzZXRzL21pc28uanBlZ1wiLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCJLaW1jaGkgUmFtZW5cIixcbiAgICAgIGRlc2M6IFwiQXV0b3Jza2kgcmFtZW4gbmEgYmF6aWUgd29keSBzcG9kIGZlcm1lbnRhY2ppIG5hc3plZ28ga2ltY2hpIGkga2xhcm93bmVnbyB3eXdhcnUgZHJvYmlvd2VnbyBhc3NhcmkuIE5hIHRvcHBpbmd1OiBzY2hhYiBzb3VzIHZpZGUsIGphamtvIGFqaXRzdWtlLCBraW1jaGkuLi5cIixcbiAgICAgIHByaWNlOiBcIjM3LDAwIHrFglwiLFxuICAgICAgaW1nVVJMOiBcImFzc2V0cy9raW1jaGkuanBlZ1wiLFxuICAgIH0sXG4gIF07XG5cbiAgdGVzdCgpIHtcbiAgICBjb25zb2xlLmxvZyhcIkJvZHlCdWlsZGVyIHdvcmtzXCIpO1xuICB9XG5cbiAgYnVpbGQoY29udGVudElkKSB7XG4gICAgaWYgKGNvbnRlbnRJZCA9PT0gQUJPVVRfVVMpIHtcbiAgICAgIHJldHVybiB0aGlzLmJ1aWxkQWJvdXRVc1BhZ2UoKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnRJZCA9PT0gTUVOVSkge1xuICAgICAgcmV0dXJuIHRoaXMuYnVpbGRNZW51UGFnZSgpO1xuICAgIH0gZWxzZSBpZiAoY29udGVudElkID09PSBDT05UQUNUKSB7XG4gICAgICByZXR1cm4gdGhpcy5idWlsZENvbnRhY3RQYWdlKCk7XG4gICAgfVxuICB9XG5cbiAgYnVpbGRNZW51UGFnZSgpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiY29udGFpbmVyXCIpO1xuXG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgIGhlYWRlci50ZXh0Q29udGVudCA9IFwiWiBtecWbbMSFIG8gVG9iaWVcIjtcblxuICAgIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpdGVtcy5jbGFzc0xpc3QuYWRkKFwiaXRlbXNcIik7XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcblxuICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5tZW51MSkge1xuICAgICAgaXRlbXMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVJdGVtKGl0ZW0pKTtcbiAgICB9XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGl0ZW1zKTtcblxuICAgIGNvbnN0IGhlYWRlcjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgaGVhZGVyMi50ZXh0Q29udGVudCA9IFwiQXNzYXJpIFJhbWVuXCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGhlYWRlcjIpO1xuXG4gICAgY29uc3QgaXRlbXMyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpdGVtczIuY2xhc3NMaXN0LmFkZChcIml0ZW1zXCIpO1xuICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5tZW51Mikge1xuICAgICAgaXRlbXMyLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlSXRlbShpdGVtKSk7XG4gICAgfVxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpdGVtczIpO1xuXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgfVxuXG4gIGNyZWF0ZUl0ZW0oaXRlbSkge1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBjb25zdCBpdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGl0ZW1EaXYuY2xhc3NMaXN0LmFkZChcIml0ZW1cIik7XG5cbiAgICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgaW5mby5jbGFzc0xpc3QuYWRkKFwiaW5mb1wiKTtcblxuICAgICAgY29uc3QgZmxleEdyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZmxleEdyb3cuY2xhc3NMaXN0LmFkZChcImZsZXgtZ3Jvd1wiKTtcblxuICAgICAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgIGhlYWRpbmcudGV4dENvbnRlbnQgPSBpdGVtLm5hbWU7XG5cbiAgICAgIGNvbnN0IHBhcmFncmFwaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgcGFyYWdyYXBoLnRleHRDb250ZW50ID0gaXRlbS5kZXNjO1xuXG4gICAgICBmbGV4R3Jvdy5hcHBlbmRDaGlsZChoZWFkaW5nKTtcbiAgICAgIGZsZXhHcm93LmFwcGVuZENoaWxkKHBhcmFncmFwaCk7XG4gICAgICBpbmZvLmFwcGVuZENoaWxkKGZsZXhHcm93KTtcblxuICAgICAgY29uc3QgcHJpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgIHByaWNlLmNsYXNzTGlzdC5hZGQoXCJwcmljZVwiKTtcbiAgICAgIHByaWNlLnRleHRDb250ZW50ID0gaXRlbS5wcmljZTtcbiAgICAgIGluZm8uYXBwZW5kQ2hpbGQocHJpY2UpO1xuXG4gICAgICBjb25zdCBwaG90byA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBwaG90by5jbGFzc0xpc3QuYWRkKFwicGhvdG9cIik7XG5cbiAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICBpbWcuc3JjID0gaXRlbS5pbWdVUkw7XG4gICAgICBpbWcuYWx0ID0gaXRlbS5uYW1lO1xuICAgICAgcGhvdG8uYXBwZW5kQ2hpbGQoaW1nKTtcblxuICAgICAgaXRlbURpdi5hcHBlbmRDaGlsZChpbmZvKTtcbiAgICAgIGl0ZW1EaXYuYXBwZW5kQ2hpbGQocGhvdG8pO1xuXG4gICAgICByZXR1cm4gaXRlbURpdjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBidWlsZEFib3V0VXNQYWdlKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJjb250YWluZXJcIiwgXCJhYm91dC1jb250YWluZXJcIik7XG5cbiAgICBjb25zdCBhYm91dFVzSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgIGFib3V0VXNIZWFkZXIudGV4dENvbnRlbnQgPSBcIk8gbmFzXCI7XG5cbiAgICBjb25zdCBhYm91dENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYWJvdXRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImFib3V0XCIpO1xuXG4gICAgY29uc3QgcGhvdG9EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHBob3RvRGl2LmNsYXNzTGlzdC5hZGQoXCJhYm91dC1waG90b1wiKTtcblxuICAgIGNvbnN0IHBob3RvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBwaG90by5zcmMgPSBcImFzc2V0cy9yYW1lbi1wZW9wbGUtZG9vci5wbmdcIjtcbiAgICBwaG90by5hbHQgPSBcIlJhbWVuIFBlb3BsZSBFbnRyYW5jZVwiO1xuXG4gICAgcGhvdG9EaXYuYXBwZW5kQ2hpbGQocGhvdG8pO1xuXG4gICAgY29uc3QgYWJvdXRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBhYm91dFRleHQuY2xhc3NMaXN0LmFkZChcImFib3V0LXRleHRcIik7XG5cbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG4gICAgaGVhZGVyLnRleHRDb250ZW50ID0gXCJSYW1lbiBQZW9wbGUg44Op44O844Oh44Oz4oCi44OU44O844OX44OrXCI7XG5cbiAgICBjb25zdCBwYXJhZ3JhcGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBwYXJhZ3JhcGgudGV4dENvbnRlbnQgPVxuICAgICAgXCJUaGUgUmVhbCBSYW1lbi4gVHlsa28gdSBuYXMgdyBLcmFrb3dpZSBwb3puYWNpZSB0byBkYW5pZSB3IHdpZWx1IG9yeWdpbmFsbnljaCBqYXBvxYRza2ljaCBvZHPFgm9uYWNoLlwiO1xuXG4gICAgY29uc3QgbG9nbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgbG9nby5zcmMgPSBcImFzc2V0cy9yYW1lbi1wZW9wbGUtbG9nby5qcGdcIjtcbiAgICBsb2dvLmFsdCA9IFwiUmFtZW4gUGVvcGxlIExvZ29cIjtcblxuICAgIGFib3V0VGV4dC5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICAgIGFib3V0VGV4dC5hcHBlbmRDaGlsZChwYXJhZ3JhcGgpO1xuICAgIGFib3V0VGV4dC5hcHBlbmRDaGlsZChsb2dvKTtcblxuICAgIGFib3V0Q29udGFpbmVyLmFwcGVuZENoaWxkKHBob3RvRGl2KTtcbiAgICBhYm91dENvbnRhaW5lci5hcHBlbmRDaGlsZChhYm91dFRleHQpO1xuXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGFib3V0VXNIZWFkZXIpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChhYm91dENvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9XG5cbiAgYnVpbGRDb250YWN0UGFnZSgpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiY29udGFpbmVyXCIsIFwiY29udGFjdC1jb250YWluZXJcIik7XG5cbiAgICBjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgIGhlYWRpbmcudGV4dENvbnRlbnQgPSBcIktvbnRha3RcIjtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaGVhZGluZyk7XG5cbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJjb250YWN0LWluZm8td3JhcHBlclwiKTtcblxuICAgIGNvbnN0IG1hcFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1hcFdyYXBwZXIuY2xhc3NMaXN0LmFkZChcIm1hcC13cmFwcGVyXCIpO1xuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQobWFwV3JhcHBlcik7XG5cbiAgICBjb25zdCBjb250YWN0SW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFjdEluZm8uY2xhc3NMaXN0LmFkZChcImNvbnRhY3QtaW5mb1wiKTtcblxuICAgIGNvbnN0IGhlYWRpbmcxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xuICAgIGhlYWRpbmcxLnRleHRDb250ZW50ID0gXCJSYW1lbiBQZW9wbGUgLSBOYWR3acWbbGHFhHNrYVwiO1xuICAgIGNvbnRhY3RJbmZvLmFwcGVuZENoaWxkKGhlYWRpbmcxKTtcblxuICAgIGNvbnN0IGRlc2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRlc2MuY2xhc3NMaXN0LmFkZChcIm11dGVkXCIsIFwicm93XCIpO1xuICAgIGRlc2MudGV4dENvbnRlbnQgPSBcIkphcG/FhHNraWUg4oCiIE1pc2VjemtpIHJ5xbx1IOKAoiBBemphdHlja2llIOKAoiAkJFwiO1xuICAgIGNvbnRhY3RJbmZvLmFwcGVuZENoaWxkKGRlc2MpO1xuXG4gICAgY29uc3QgYWRkcmVzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYWRkcmVzcy5jbGFzc0xpc3QuYWRkKFwiaW5mb1wiLCBcInJvd1wiKTtcbiAgICBjb25zdCBzdmcxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgc3ZnMS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjI0XCIpO1xuICAgIHN2ZzEuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiMjRcIik7XG4gICAgY29uc3QgcGF0aDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInBhdGhcIlxuICAgICk7XG4gICAgcGF0aDEuc2V0QXR0cmlidXRlKFxuICAgICAgXCJkXCIsXG4gICAgICBcIk0xNy41ODM0IDUuMTY2MDJDMTQuNTAwMSAyLjA4MjY4IDkuNTAwMDggMi4wODI2OCA2LjQxNjc1IDUuMTY2MDJDMy4zMzM0MSA4LjI0OTM1IDMuMzMzNDEgMTMuMzMyNyA2LjQxNjc1IDE2LjQxNkwxMi4wMDAxIDIxLjk5OTNMMTcuNTgzNCAxNi4zMzI3QzIwLjY2NjcgMTMuMzMyNyAyMC42NjY3IDguMjQ5MzUgMTcuNTgzNCA1LjE2NjAyWk0xMi4wMDAxIDEyLjQxNkMxMS4wODM0IDEyLjQxNiAxMC4zMzM0IDExLjY2NiAxMC4zMzM0IDEwLjc0OTNDMTAuMzMzNCA5LjgzMjY4IDExLjA4MzQgOS4wODI2OCAxMi4wMDAxIDkuMDgyNjhDMTIuOTE2NyA5LjA4MjY4IDEzLjY2NjcgOS44MzI2OCAxMy42NjY3IDEwLjc0OTNDMTMuNjY2NyAxMS42NjYgMTIuOTE2NyAxMi40MTYgMTIuMDAwMSAxMi40MTZaXCJcbiAgICApO1xuICAgIHBhdGgxLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCIjMDAwMDAwXCIpO1xuICAgIHN2ZzEuYXBwZW5kQ2hpbGQocGF0aDEpO1xuICAgIGFkZHJlc3MuYXBwZW5kQ2hpbGQoc3ZnMSk7XG4gICAgY29uc3QgYWRkcmVzc1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBhZGRyZXNzVGV4dC50ZXh0Q29udGVudCA9IFwiTmFkd2nFm2xhxYRza2EgNS9MMSwgS3Jha8OzdywgMzAtNTI3XCI7XG4gICAgYWRkcmVzcy5hcHBlbmRDaGlsZChhZGRyZXNzVGV4dCk7XG4gICAgY29udGFjdEluZm8uYXBwZW5kQ2hpbGQoYWRkcmVzcyk7XG5cbiAgICBjb25zdCBvcGVuSG91cnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG9wZW5Ib3Vycy5jbGFzc0xpc3QuYWRkKFwiaW5mb1wiLCBcInJvd1wiKTtcbiAgICBjb25zdCBzdmcyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgc3ZnMi5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjI0XCIpO1xuICAgIHN2ZzIuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiMjRcIik7XG4gICAgY29uc3QgcGF0aDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInBhdGhcIlxuICAgICk7XG4gICAgcGF0aDIuc2V0QXR0cmlidXRlKFxuICAgICAgXCJkXCIsXG4gICAgICBcIk0xMiAyLjgzMzk4QzYuOTE2NzEgMi44MzM5OCAyLjgzMzM3IDYuOTE3MzIgMi44MzMzNyAxMi4wMDA3QzIuODMzMzcgMTcuMDg0IDYuOTE2NzEgMjEuMTY3MyAxMiAyMS4xNjczQzE3LjA4MzQgMjEuMTY3MyAyMS4xNjY3IDE3LjA4NCAyMS4xNjY3IDEyLjAwMDdDMjEuMTY2NyA2LjkxNzMyIDE3LjA4MzQgMi44MzM5OCAxMiAyLjgzMzk4Wk0xNyAxMy42NjczSDEwLjMzMzRWNS4zMzM5OEgxMi44MzM0VjExLjE2NzNIMTdWMTMuNjY3M1pcIlxuICAgICk7XG4gICAgcGF0aDIuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIiMwMDAwMDBcIik7XG4gICAgc3ZnMi5hcHBlbmRDaGlsZChwYXRoMik7XG4gICAgb3BlbkhvdXJzLmFwcGVuZENoaWxkKHN2ZzIpO1xuICAgIGNvbnN0IG9wZW5Ib3Vyc1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBvcGVuSG91cnNUZXh0LnRleHRDb250ZW50ID0gXCJPdHdhcnRlIGRvIDk6MDAgUE1cIjtcbiAgICBvcGVuSG91cnMuYXBwZW5kQ2hpbGQob3BlbkhvdXJzVGV4dCk7XG4gICAgY29udGFjdEluZm8uYXBwZW5kQ2hpbGQob3BlbkhvdXJzKTtcblxuICAgIGNvbnN0IHJhdGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcmF0aW5nLmNsYXNzTGlzdC5hZGQoXCJpbmZvXCIsIFwicm93XCIpO1xuICAgIGNvbnN0IHN2ZzMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICBzdmczLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiMjRcIik7XG4gICAgc3ZnMy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgXCIyNFwiKTtcbiAgICBjb25zdCBwYXRoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwicGF0aFwiXG4gICAgKTtcbiAgICBwYXRoMy5zZXRBdHRyaWJ1dGUoXG4gICAgICBcImRcIixcbiAgICAgIFwiTTEyLjQ1OCAxbDMuNjQ2IDcgNy44MTMuNS01LjczIDUuNSAyLjA4NCA4LTcuODEzLTQtNy44MTIgNCAyLjA4My04TDEgOC41IDguODEzIDhsMy42NDUtN3pcIlxuICAgICk7XG4gICAgcGF0aDMuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIiMwMDAwMDBcIik7XG4gICAgc3ZnMy5hcHBlbmRDaGlsZChwYXRoMyk7XG4gICAgcmF0aW5nLmFwcGVuZENoaWxkKHN2ZzMpO1xuICAgIGNvbnN0IHJhdGluZ1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICByYXRpbmdUZXh0LnRleHRDb250ZW50ID0gXCI0LjggKGxpY3piYSBvY2VuOiAyMDArKVwiO1xuICAgIHJhdGluZy5hcHBlbmRDaGlsZChyYXRpbmdUZXh0KTtcbiAgICBjb250YWN0SW5mby5hcHBlbmRDaGlsZChyYXRpbmcpO1xuXG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChjb250YWN0SW5mbyk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQm9keUJ1aWxkZXIgfSBmcm9tIFwiLi9ib2R5LWJ1aWxkZXJcIjtcblxuZXhwb3J0IGNvbnN0IEFCT1VUX1VTID0gXCJhYm91dC11c1wiO1xuZXhwb3J0IGNvbnN0IE1FTlUgPSBcIm1lbnVcIjtcbmV4cG9ydCBjb25zdCBDT05UQUNUID0gXCJjb250YWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBTaXRlQnVpbGRlciB7XG4gIGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRlbnRcIik7XG4gIG5hdkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdi1pdGVtIGJ1dHRvblwiKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJvZHlCdWlsZGVyID0gbmV3IEJvZHlCdWlsZGVyKCk7XG4gICAgdGhpcy5ib2R5QnVpbGRlci50ZXN0KCk7XG4gIH1cblxuICBidWlsZEhlYWRlcigpIHtcbiAgICBjb25zdCBjb21wYW55ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb21wYW55LmNsYXNzTGlzdC5hZGQoXCJjb21wYW55XCIpO1xuXG4gICAgY29uc3QgZ3JhZGllbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGdyYWRpZW50LmNsYXNzTGlzdC5hZGQoXCJncmFkaWVudFwiKTtcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJjb250YWluZXJcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJwLTMwXCIpO1xuXG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZChcInRpdGxlXCIpO1xuICAgIHRpdGxlLnRleHRDb250ZW50ID0gXCJSYW1lbiBQZW9wbGUg44Op44O844Oh44Oz4oCi44OU44O844OX44OrIC0gTmFkd2nFm2xhxYRza2FcIjtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG4gICAgY29uc3QgcGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgcGFyYWdyYXBoLmlubmVySFRNTCA9XG4gICAgICBcIjxzcGFuIGNsYXNzPSdyYXRpbmcnPjQuOCgyMDArKTwvc3Bhbj4g4oCiIFd5xZt3aWV0bCBjemFzIGRvc3Rhd3kgaSBvcMWCYXTEmSB6YSB6bGVjZW5pZS4gPGEgaHJlZj0nIyc+UG9kYWogYWRyZXMgZG9zdGF3eTwvYT5cIjtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocGFyYWdyYXBoKTtcblxuICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJmYXYtYnV0dG9uXCIpO1xuXG4gICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiMjRcIik7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBcIjI0XCIpO1xuICAgIGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgcGF0aC5zZXRBdHRyaWJ1dGUoXG4gICAgICBcImRcIixcbiAgICAgIFwiTTE2IDVjMi41IDAgNCAxLjkgNCA0LjIgMCAxLjItLjYgMi4zLTEuMyAzLjFDMTcuNSAxMy41IDEyIDE4IDEyIDE4cy01LjUtNC41LTYuNy01LjdDNC41IDExLjUgNCAxMC40IDQgOS4yIDQgNi45IDUuNSA1IDggNWMxLjcgMCAzLjMgMS42IDQgMyAuNy0xLjQgMi4zLTMgNC0zem0wLTNjLTEuNSAwLTIuOS42LTQgMS40QzEwLjkgMi41IDkuNSAyIDggMiA0IDIgMSA1LjEgMSA5LjJjMCAxLjkuOCAzLjcgMi4yIDUuMiAxLjQgMS41IDguOCA3LjUgOC44IDcuNXM3LjQtNiA4LjgtNy41YzEuNC0xLjUgMi4yLTMuMyAyLjItNS4yQzIzIDUuMSAyMCAyIDE2IDJ6XCJcbiAgICApO1xuXG4gICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChzdmcpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgIGdyYWRpZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29tcGFueS5hcHBlbmRDaGlsZChncmFkaWVudCk7XG5cbiAgICByZXR1cm4gY29tcGFueTtcbiAgfVxuXG4gIGJ1aWxkTmF2KHBhZ2VJZCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJjb250YWluZXJcIik7XG5cbiAgICBjb25zdCBuYXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibmF2XCIpO1xuICAgIG5hdi5jbGFzc0xpc3QuYWRkKFwibmF2XCIpO1xuXG4gICAgY29uc3QgbmF2SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbmF2SXRlbS5jbGFzc0xpc3QuYWRkKFwibmF2LWl0ZW1cIik7XG5cbiAgICBjb25zdCBhYm91dFVzQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBhYm91dFVzQnRuLnRleHRDb250ZW50ID0gXCJPIG5hc1wiO1xuICAgIGFib3V0VXNCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUNsaWNrQWJvdXRVcyhlKTtcbiAgICB9KTtcbiAgICBpZiAocGFnZUlkID09PSBBQk9VVF9VUykge1xuICAgICAgYWJvdXRVc0J0bi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgIH1cbiAgICBuYXZJdGVtLmFwcGVuZENoaWxkKGFib3V0VXNCdG4pO1xuXG4gICAgY29uc3QgbmF2SXRlbTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5hdkl0ZW0xLmNsYXNzTGlzdC5hZGQoXCJuYXYtaXRlbVwiKTtcblxuICAgIGNvbnN0IG1lbnVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIG1lbnVCdXR0b24udGV4dENvbnRlbnQgPSBcIk1lbnVcIjtcbiAgICBtZW51QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVDbGlja01lbnUoZSk7XG4gICAgfSk7XG4gICAgaWYgKHBhZ2VJZCA9PT0gTUVOVSkge1xuICAgICAgbWVudUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgIH1cbiAgICBuYXZJdGVtMS5hcHBlbmRDaGlsZChtZW51QnV0dG9uKTtcblxuICAgIGNvbnN0IG5hdkl0ZW0yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBuYXZJdGVtMi5jbGFzc0xpc3QuYWRkKFwibmF2LWl0ZW1cIik7XG5cbiAgICBjb25zdCBjb250YWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb250YWN0QnV0dG9uLnRleHRDb250ZW50ID0gXCJLb250YWt0XCI7XG4gICAgY29udGFjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlQ2xpY2tDb250YWN0KGUpO1xuICAgIH0pO1xuICAgIGlmIChwYWdlSWQgPT09IENPTlRBQ1QpIHtcbiAgICAgIGNvbnRhY3RCdXR0b24uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICB9XG4gICAgbmF2SXRlbTIuYXBwZW5kQ2hpbGQoY29udGFjdEJ1dHRvbik7XG5cbiAgICBuYXYuYXBwZW5kQ2hpbGQobmF2SXRlbSk7XG4gICAgbmF2LmFwcGVuZENoaWxkKG5hdkl0ZW0xKTtcbiAgICBuYXYuYXBwZW5kQ2hpbGQobmF2SXRlbTIpO1xuXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5hdik7XG5cbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2tBYm91dFVzKGUpIHtcbiAgICB0aGlzLnJlYnVpbGQoQUJPVVRfVVMpO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2tNZW51KGUpIHtcbiAgICB0aGlzLnJlYnVpbGQoTUVOVSk7XG4gIH1cblxuICBoYW5kbGVDbGlja0NvbnRhY3QoZSkge1xuICAgIHRoaXMucmVidWlsZChDT05UQUNUKTtcbiAgfVxuXG4gIGJ1aWxkRm9vdGVyKCkge1xuICAgIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb290ZXJcIik7XG4gICAgZm9vdGVyLmNsYXNzTGlzdC5hZGQoXCJtdC0zMFwiKTtcblxuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBzcGFuLmlubmVySFRNTCA9XG4gICAgICBcIkNyZWF0ZWQgYnkgPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL2ZiaWVybmF0Jz5mYmllcm5hdDwvYT4gMjAyMVwiO1xuXG4gICAgZm9vdGVyLmFwcGVuZENoaWxkKHNwYW4pO1xuXG4gICAgcmV0dXJuIGZvb3RlcjtcbiAgfVxuXG4gIGNsZWFyRE9NKCkge1xuICAgIHRoaXMuY29udGVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICBidWlsZCgpIHtcbiAgICB0aGlzLnJlYnVpbGQoQUJPVVRfVVMpO1xuICB9XG5cbiAgcmVidWlsZChwYWdlSWQpIHtcbiAgICB0aGlzLmNsZWFyRE9NKCk7XG4gICAgdGhpcy5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMuYnVpbGRIZWFkZXIoKSk7XG4gICAgdGhpcy5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMuYnVpbGROYXYocGFnZUlkKSk7XG4gICAgbGV0IGJvZHkgPSB0aGlzLmJvZHlCdWlsZGVyLmJ1aWxkKHBhZ2VJZCk7XG4gICAgdGhpcy5jb250ZW50LmFwcGVuZENoaWxkKGJvZHkpO1xuICAgIHRoaXMuY29udGVudC5hcHBlbmQodGhpcy5idWlsZEZvb3RlcigpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU2l0ZUJ1aWxkZXIgfSBmcm9tICcuL3NpdGUtYnVpbGRlcidcblxuY29uc3Qgc2l0ZUJ1aWxkZXIgPSBuZXcgU2l0ZUJ1aWxkZXIoKTtcbnNpdGVCdWlsZGVyLmJ1aWxkKCk7XG4iXSwibmFtZXMiOlsiQm9keUJ1aWxkZXIiLCJtZW51MSIsIm5hbWUiLCJkZXNjIiwicHJpY2UiLCJpbWdVUkwiLCJtZW51MiIsInRlc3QiLCJjb25zb2xlIiwibG9nIiwiYnVpbGQiLCJjb250ZW50SWQiLCJBQk9VVF9VUyIsInRoaXMiLCJidWlsZEFib3V0VXNQYWdlIiwiTUVOVSIsImJ1aWxkTWVudVBhZ2UiLCJDT05UQUNUIiwiYnVpbGRDb250YWN0UGFnZSIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImhlYWRlciIsInRleHRDb250ZW50IiwiaXRlbXMiLCJhcHBlbmRDaGlsZCIsIml0ZW0iLCJjcmVhdGVJdGVtIiwiaGVhZGVyMiIsIml0ZW1zMiIsIml0ZW1EaXYiLCJpbmZvIiwiZmxleEdyb3ciLCJoZWFkaW5nIiwicGFyYWdyYXBoIiwicGhvdG8iLCJpbWciLCJzcmMiLCJhbHQiLCJhYm91dFVzSGVhZGVyIiwiYWJvdXRDb250YWluZXIiLCJwaG90b0RpdiIsImFib3V0VGV4dCIsImxvZ28iLCJ3cmFwcGVyIiwibWFwV3JhcHBlciIsImNvbnRhY3RJbmZvIiwiaGVhZGluZzEiLCJhZGRyZXNzIiwic3ZnMSIsImNyZWF0ZUVsZW1lbnROUyIsInNldEF0dHJpYnV0ZSIsInBhdGgxIiwiYWRkcmVzc1RleHQiLCJvcGVuSG91cnMiLCJzdmcyIiwicGF0aDIiLCJvcGVuSG91cnNUZXh0IiwicmF0aW5nIiwic3ZnMyIsInBhdGgzIiwicmF0aW5nVGV4dCIsImNvbnRlbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2QnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb25zdHJ1Y3RvciIsImJvZHlCdWlsZGVyIiwiYnVpbGRIZWFkZXIiLCJjb21wYW55IiwiZ3JhZGllbnQiLCJ0aXRsZSIsImlubmVySFRNTCIsImJ1dHRvbiIsInN2ZyIsInBhdGgiLCJidWlsZE5hdiIsInBhZ2VJZCIsIm5hdiIsIm5hdkl0ZW0iLCJhYm91dFVzQnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJoYW5kbGVDbGlja0Fib3V0VXMiLCJuYXZJdGVtMSIsIm1lbnVCdXR0b24iLCJoYW5kbGVDbGlja01lbnUiLCJuYXZJdGVtMiIsImNvbnRhY3RCdXR0b24iLCJoYW5kbGVDbGlja0NvbnRhY3QiLCJyZWJ1aWxkIiwiYnVpbGRGb290ZXIiLCJmb290ZXIiLCJzcGFuIiwiY2xlYXJET00iLCJib2R5IiwiYXBwZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==