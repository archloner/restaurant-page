(()=>{"use strict";const e=[{name:"Ramen Tonkotsu Yokohama Style",desc:"Chasu, menma, blanszowany szpinak, jajo nitamago, drobno siekana cebula, olej z palonego czosnku, siekany por, nori i...",price:"36,00 zł",imgURL:"assets/tonkotsu.jpeg"},{name:"Tantanmen",desc:"Mięsny ramen na gęstym wywarze kotteri z dodatkiem mielonej wieprzowiny marynowanej na ostro. Kotteri to ciężki, bogaty wywar...",price:"35,00 zł",imgURL:"assets/tantanmen.jpeg"},{name:"Spicy Chicken",desc:"Ramen na wywarze drobiowym. Długo gotowany, klarowny, głęboki, z dodatkiem ostrego chilli tare. Na toppingu: marynowane na ostro...",price:"37,00 zł",imgURL:"assets/spicy-chicken.jpeg"},{name:"Asakusa Tori Shoyu",desc:"Unikalne shoyu przygotowane wspólnie z mistrzem Kohei Yagi. Drobiowo-wieprzowy bulion assari, specjalnie dedykowany makaron, karkówka...",price:"37,00 zł",imgURL:"assets/asakusa.jpeg"},{name:"Hokkaido",desc:"Wegański, ryżowy wywar z dedykowanym, sezamowym tare na bazie tahiny i miso. Na toppingu: pieczona dynia hokkaido, tofu, por, dymka, nitki...",price:"37,00 zł",imgURL:"assets/hokkaido.jpeg"}],t=[{name:"Miso Ramen",desc:"Ramen na wywarze drobiowym z dodatkiem tare miso - pasty ze sfermentowanych nasion soi. Na toppingu: wołowina, jajko ajitsuke, palony por...",price:"37,00 zł",imgURL:"assets/miso.jpeg"},{name:"Kimchi Ramen",desc:"Autorski ramen na bazie wody spod fermentacji naszego kimchi i klarownego wywaru drobiowego assari. Na toppingu: schab sous vide, jajko ajitsuke, kimchi...",price:"37,00 zł",imgURL:"assets/kimchi.jpeg"}];class n{menu1=e;menu2=t;test(){console.log("BodyBuilder works out")}build(e){switch(e){case a:return this.buildAboutUsPage();case d:return this.buildMenuPage();case i:return this.buildContactPage()}}buildMenuPage(){const e=document.createElement("div");e.classList.add("container","flex-1");const t=document.createElement("h2");t.textContent="Z myślą o Tobie";const n=document.createElement("div");n.classList.add("items"),e.appendChild(t),this.menu1.map((e=>{n.appendChild(this.createItem(e))})),e.appendChild(n);const a=document.createElement("h2");a.textContent="Assari Ramen",e.appendChild(a);const d=document.createElement("div");return d.classList.add("items"),this.menu2.map((e=>{d.appendChild(this.createItem(e))})),e.appendChild(d),e}createItem(e){if(e){const t=document.createElement("div");t.classList.add("item");const n=document.createElement("div");n.classList.add("info");const a=document.createElement("div");a.classList.add("flex-grow");const d=document.createElement("h3");d.textContent=e.name;const i=document.createElement("p");i.textContent=e.desc,a.appendChild(d),a.appendChild(i),n.appendChild(a);const s=document.createElement("span");s.classList.add("price"),s.textContent=e.price,n.appendChild(s);const o=document.createElement("div");o.classList.add("photo");const c=document.createElement("img");return c.src=e.imgURL,c.alt=e.name,o.appendChild(c),t.appendChild(n),t.appendChild(o),t}return null}buildAboutUsPage(){const e=document.createElement("div");e.classList.add("container","about-container","flex-1");const t=document.createElement("h2");t.textContent="O nas";const n=document.createElement("div");n.classList.add("about");const a=document.createElement("div");a.classList.add("about-photo");const d=document.createElement("img");d.src="assets/ramen-people-door.png",d.alt="Ramen People Entrance",a.appendChild(d);const i=document.createElement("div");i.classList.add("about-text");const s=document.createElement("h1");s.textContent="Ramen People ラーメン•ピープル";const o=document.createElement("p");o.textContent="The Real Ramen. Tylko u nas w Krakowie poznacie to danie w wielu oryginalnych japońskich odsłonach.";const c=document.createElement("img");return c.src="assets/ramen-people-logo.jpg",c.alt="Ramen People Logo",i.appendChild(s),i.appendChild(o),i.appendChild(c),n.appendChild(a),n.appendChild(i),e.appendChild(t),e.appendChild(n),e}buildContactPage(){const e=document.createElement("div");e.classList.add("container","contact-container","flex-1");const t=document.createElement("h2");t.textContent="Kontakt",e.appendChild(t);const n=document.createElement("div");n.classList.add("contact-info-wrapper");const a=document.createElement("div");a.classList.add("map-wrapper"),n.appendChild(a);const d=document.createElement("div");d.classList.add("contact-info");const i=document.createElement("h1");i.textContent="Ramen People - Nadwiślańska",d.appendChild(i);const s=document.createElement("div");s.classList.add("muted","row"),s.textContent="Japońskie • Miseczki ryżu • Azjatyckie • $$",d.appendChild(s);const o=document.createElement("div");o.classList.add("info","row");const c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("width","24"),c.setAttribute("height","24");const l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d","M17.5834 5.16602C14.5001 2.08268 9.50008 2.08268 6.41675 5.16602C3.33341 8.24935 3.33341 13.3327 6.41675 16.416L12.0001 21.9993L17.5834 16.3327C20.6667 13.3327 20.6667 8.24935 17.5834 5.16602ZM12.0001 12.416C11.0834 12.416 10.3334 11.666 10.3334 10.7493C10.3334 9.83268 11.0834 9.08268 12.0001 9.08268C12.9167 9.08268 13.6667 9.83268 13.6667 10.7493C13.6667 11.666 12.9167 12.416 12.0001 12.416Z"),l.setAttribute("fill","#000000"),c.appendChild(l),o.appendChild(c);const r=document.createElement("span");r.textContent="Nadwiślańska 5/L1, Kraków, 30-527",o.appendChild(r),d.appendChild(o);const m=document.createElement("div");m.classList.add("info","row");const p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttribute("width","24"),p.setAttribute("height","24");const u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d","M12 2.83398C6.91671 2.83398 2.83337 6.91732 2.83337 12.0007C2.83337 17.084 6.91671 21.1673 12 21.1673C17.0834 21.1673 21.1667 17.084 21.1667 12.0007C21.1667 6.91732 17.0834 2.83398 12 2.83398ZM17 13.6673H10.3334V5.33398H12.8334V11.1673H17V13.6673Z"),u.setAttribute("fill","#000000"),p.appendChild(u),m.appendChild(p);const h=document.createElement("span");h.textContent="Otwarte do 9:00 PM",m.appendChild(h),d.appendChild(m);const C=document.createElement("div");C.classList.add("info","row");const w=document.createElementNS("http://www.w3.org/2000/svg","svg");w.setAttribute("width","24"),w.setAttribute("height","24");const g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d","M12.458 1l3.646 7 7.813.5-5.73 5.5 2.084 8-7.813-4-7.812 4 2.083-8L1 8.5 8.813 8l3.645-7z"),g.setAttribute("fill","#000000"),w.appendChild(g),C.appendChild(w);const b=document.createElement("span");return b.textContent="4.8 (liczba ocen: 200+)",C.appendChild(b),d.appendChild(C),n.appendChild(d),e.appendChild(n),e}}const a="about-us",d="menu",i="contact";(new class{content=document.querySelector("#content");navButtons=document.querySelectorAll(".nav-item button");constructor(){this.bodyBuilder=new n,this.bodyBuilder.test()}buildHeader(){const e=document.createElement("div");e.classList.add("company");const t=document.createElement("div");t.classList.add("gradient");const n=document.createElement("div");n.classList.add("container"),n.classList.add("p-30");const a=document.createElement("h1");a.classList.add("title"),a.innerHTML="Ramen People ラーメン•ピープル <br/>Nadwiślańska",n.appendChild(a);const d=document.createElement("p");d.innerHTML="<span class='rating'>4.8(200+)</span> • Wyświetl czas dostawy i opłatę za zlecenie. <a href='#'>Podaj adres dostawy</a>",n.appendChild(d);const i=document.createElement("button");i.classList.add("fav-button");const s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("width","24"),s.setAttribute("height","24");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d","M16 5c2.5 0 4 1.9 4 4.2 0 1.2-.6 2.3-1.3 3.1C17.5 13.5 12 18 12 18s-5.5-4.5-6.7-5.7C4.5 11.5 4 10.4 4 9.2 4 6.9 5.5 5 8 5c1.7 0 3.3 1.6 4 3 .7-1.4 2.3-3 4-3zm0-3c-1.5 0-2.9.6-4 1.4C10.9 2.5 9.5 2 8 2 4 2 1 5.1 1 9.2c0 1.9.8 3.7 2.2 5.2 1.4 1.5 8.8 7.5 8.8 7.5s7.4-6 8.8-7.5c1.4-1.5 2.2-3.3 2.2-5.2C23 5.1 20 2 16 2z"),s.appendChild(o),i.appendChild(s),n.appendChild(i),t.appendChild(n),e.appendChild(t),e}buildNav(e){const t=document.createElement("div");t.classList.add("container");const n=document.createElement("nav");n.classList.add("nav");const s=document.createElement("div");s.classList.add("nav-item");const o=document.createElement("button");o.textContent="O nas",o.addEventListener("click",(e=>{this.handleClickAboutUs(e)})),e===a&&o.classList.add("active"),s.appendChild(o);const c=document.createElement("div");c.classList.add("nav-item");const l=document.createElement("button");l.textContent="Menu",l.addEventListener("click",(e=>{this.handleClickMenu(e)})),e===d&&l.classList.add("active"),c.appendChild(l);const r=document.createElement("div");r.classList.add("nav-item");const m=document.createElement("button");return m.textContent="Kontakt",m.addEventListener("click",(e=>{this.handleClickContact(e)})),e===i&&m.classList.add("active"),r.appendChild(m),n.appendChild(s),n.appendChild(c),n.appendChild(r),t.appendChild(n),t}handleClickAboutUs(e){this.rebuild(a)}handleClickMenu(e){this.rebuild(d)}handleClickContact(e){this.rebuild(i)}buildFooter(){const e=document.createElement("footer");e.classList.add("mt-30");const t=document.createElement("span");return t.innerHTML="Created by <a href='https://github.com/fbiernat'>fbiernat</a> 2021",e.appendChild(t),e}clearDOM(){this.content.textContent=""}build(){this.rebuild(a)}rebuild(e){this.clearDOM(),this.content.appendChild(this.buildHeader()),this.content.appendChild(this.buildNav(e));let t=this.bodyBuilder.build(e);this.content.appendChild(t),this.content.append(this.buildFooter())}}).build()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFBWTVELE1BQU1zRSxHQUNsQ25FLEtBQUtvRCxRQUFRdEMsWUFBWXVFLEdBQ3pCckYsS0FBS29ELFFBQVFrQyxPQUFPdEYsS0FBS2lGLGtCQ3BKakJwRixTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC1wYWdlLy4vc3JjL3JlcG9zaXRvcnkuanMiLCJ3ZWJwYWNrOi8vcmVzdGF1cmFudC1wYWdlLy4vc3JjL2JvZHktYnVpbGRlci5qcyIsIndlYnBhY2s6Ly9yZXN0YXVyYW50LXBhZ2UvLi9zcmMvc2l0ZS1idWlsZGVyLmpzIiwid2VicGFjazovL3Jlc3RhdXJhbnQtcGFnZS8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUmFtZW5NZW51MSA9IFtcbiAge1xuICAgIG5hbWU6IFwiUmFtZW4gVG9ua290c3UgWW9rb2hhbWEgU3R5bGVcIixcbiAgICBkZXNjOiBcIkNoYXN1LCBtZW5tYSwgYmxhbnN6b3dhbnkgc3pwaW5haywgamFqbyBuaXRhbWFnbywgZHJvYm5vIHNpZWthbmEgY2VidWxhLCBvbGVqIHogcGFsb25lZ28gY3pvc25rdSwgc2lla2FueSBwb3IsIG5vcmkgaS4uLlwiLFxuICAgIHByaWNlOiBcIjM2LDAwIHrFglwiLFxuICAgIGltZ1VSTDogXCJhc3NldHMvdG9ua290c3UuanBlZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJUYW50YW5tZW5cIixcbiAgICBkZXNjOiBcIk1pxJlzbnkgcmFtZW4gbmEgZ8SZc3R5bSB3eXdhcnplIGtvdHRlcmkgeiBkb2RhdGtpZW0gbWllbG9uZWogd2llcHJ6b3dpbnkgbWFyeW5vd2FuZWogbmEgb3N0cm8uIEtvdHRlcmkgdG8gY2nEmcW8a2ksIGJvZ2F0eSB3eXdhci4uLlwiLFxuICAgIHByaWNlOiBcIjM1LDAwIHrFglwiLFxuICAgIGltZ1VSTDogXCJhc3NldHMvdGFudGFubWVuLmpwZWdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiU3BpY3kgQ2hpY2tlblwiLFxuICAgIGRlc2M6IFwiUmFtZW4gbmEgd3l3YXJ6ZSBkcm9iaW93eW0uIETFgnVnbyBnb3Rvd2FueSwga2xhcm93bnksIGfFgsSZYm9raSwgeiBkb2RhdGtpZW0gb3N0cmVnbyBjaGlsbGkgdGFyZS4gTmEgdG9wcGluZ3U6IG1hcnlub3dhbmUgbmEgb3N0cm8uLi5cIixcbiAgICBwcmljZTogXCIzNywwMCB6xYJcIixcbiAgICBpbWdVUkw6IFwiYXNzZXRzL3NwaWN5LWNoaWNrZW4uanBlZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJBc2FrdXNhIFRvcmkgU2hveXVcIixcbiAgICBkZXNjOiBcIlVuaWthbG5lIHNob3l1IHByenlnb3Rvd2FuZSB3c3DDs2xuaWUgeiBtaXN0cnplbSBLb2hlaSBZYWdpLiBEcm9iaW93by13aWVwcnpvd3kgYnVsaW9uIGFzc2FyaSwgc3BlY2phbG5pZSBkZWR5a293YW55IG1ha2Fyb24sIGthcmvDs3drYS4uLlwiLFxuICAgIHByaWNlOiBcIjM3LDAwIHrFglwiLFxuICAgIGltZ1VSTDogXCJhc3NldHMvYXNha3VzYS5qcGVnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkhva2thaWRvXCIsXG4gICAgZGVzYzogXCJXZWdhxYRza2ksIHJ5xbxvd3kgd3l3YXIgeiBkZWR5a293YW55bSwgc2V6YW1vd3ltIHRhcmUgbmEgYmF6aWUgdGFoaW55IGkgbWlzby4gTmEgdG9wcGluZ3U6IHBpZWN6b25hIGR5bmlhIGhva2thaWRvLCB0b2Z1LCBwb3IsIGR5bWthLCBuaXRraS4uLlwiLFxuICAgIHByaWNlOiBcIjM3LDAwIHrFglwiLFxuICAgIGltZ1VSTDogXCJhc3NldHMvaG9ra2FpZG8uanBlZ1wiLFxuICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IFJhbWVuTWVudTIgPSBbXG4gIHtcbiAgICBuYW1lOiBcIk1pc28gUmFtZW5cIixcbiAgICBkZXNjOiBcIlJhbWVuIG5hIHd5d2FyemUgZHJvYmlvd3ltIHogZG9kYXRraWVtIHRhcmUgbWlzbyAtIHBhc3R5IHplIHNmZXJtZW50b3dhbnljaCBuYXNpb24gc29pLiBOYSB0b3BwaW5ndTogd2/Fgm93aW5hLCBqYWprbyBhaml0c3VrZSwgcGFsb255IHBvci4uLlwiLFxuICAgIHByaWNlOiBcIjM3LDAwIHrFglwiLFxuICAgIGltZ1VSTDogXCJhc3NldHMvbWlzby5qcGVnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIktpbWNoaSBSYW1lblwiLFxuICAgIGRlc2M6IFwiQXV0b3Jza2kgcmFtZW4gbmEgYmF6aWUgd29keSBzcG9kIGZlcm1lbnRhY2ppIG5hc3plZ28ga2ltY2hpIGkga2xhcm93bmVnbyB3eXdhcnUgZHJvYmlvd2VnbyBhc3NhcmkuIE5hIHRvcHBpbmd1OiBzY2hhYiBzb3VzIHZpZGUsIGphamtvIGFqaXRzdWtlLCBraW1jaGkuLi5cIixcbiAgICBwcmljZTogXCIzNywwMCB6xYJcIixcbiAgICBpbWdVUkw6IFwiYXNzZXRzL2tpbWNoaS5qcGVnXCIsXG4gIH0sXG5dOyIsImltcG9ydCB7IEFCT1VUX1VTLCBNRU5VLCBDT05UQUNUIH0gZnJvbSBcIi4vc2l0ZS1idWlsZGVyXCI7XG5pbXBvcnQgeyBSYW1lbk1lbnUxLCBSYW1lbk1lbnUyIH0gZnJvbSBcIi4vcmVwb3NpdG9yeVwiO1xuXG5leHBvcnQgY2xhc3MgQm9keUJ1aWxkZXIge1xuICBtZW51MSA9IFJhbWVuTWVudTE7XG4gIG1lbnUyID0gUmFtZW5NZW51MjtcblxuICB0ZXN0KCkge1xuICAgIGNvbnNvbGUubG9nKFwiQm9keUJ1aWxkZXIgd29ya3Mgb3V0XCIpO1xuICB9XG5cbiAgYnVpbGQoY29udGVudElkKSB7XG4gICAgc3dpdGNoKGNvbnRlbnRJZCkge1xuICAgICAgY2FzZSBBQk9VVF9VUzpcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRBYm91dFVzUGFnZSgpO1xuICAgICAgY2FzZSBNRU5VOlxuICAgICAgICByZXR1cm4gdGhpcy5idWlsZE1lbnVQYWdlKCk7XG4gICAgICBjYXNlIENPTlRBQ1Q6XG4gICAgICAgIHJldHVybiB0aGlzLmJ1aWxkQ29udGFjdFBhZ2UoKTtcbiAgICB9XG4gIH1cblxuICBidWlsZE1lbnVQYWdlKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJjb250YWluZXJcIiwgXCJmbGV4LTFcIik7XG5cbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgaGVhZGVyLnRleHRDb250ZW50ID0gXCJaIG15xZtsxIUgbyBUb2JpZVwiO1xuXG4gICAgY29uc3QgaXRlbXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGl0ZW1zLmNsYXNzTGlzdC5hZGQoXCJpdGVtc1wiKTtcblxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChoZWFkZXIpO1xuXG4gICAgdGhpcy5tZW51MS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW1zLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlSXRlbShpdGVtKSk7XG4gICAgfSlcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbXMpO1xuXG4gICAgY29uc3QgaGVhZGVyMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICBoZWFkZXIyLnRleHRDb250ZW50ID0gXCJBc3NhcmkgUmFtZW5cIjtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaGVhZGVyMik7XG5cbiAgICBjb25zdCBpdGVtczIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGl0ZW1zMi5jbGFzc0xpc3QuYWRkKFwiaXRlbXNcIik7XG4gICAgdGhpcy5tZW51Mi5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW1zMi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUl0ZW0oaXRlbSkpO1xuICAgIH0pXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGl0ZW1zMik7XG5cbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9XG5cbiAgY3JlYXRlSXRlbShpdGVtKSB7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIGNvbnN0IGl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgaXRlbURpdi5jbGFzc0xpc3QuYWRkKFwiaXRlbVwiKTtcblxuICAgICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBpbmZvLmNsYXNzTGlzdC5hZGQoXCJpbmZvXCIpO1xuXG4gICAgICBjb25zdCBmbGV4R3JvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBmbGV4R3Jvdy5jbGFzc0xpc3QuYWRkKFwiZmxleC1ncm93XCIpO1xuXG4gICAgICBjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgaGVhZGluZy50ZXh0Q29udGVudCA9IGl0ZW0ubmFtZTtcblxuICAgICAgY29uc3QgcGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICBwYXJhZ3JhcGgudGV4dENvbnRlbnQgPSBpdGVtLmRlc2M7XG5cbiAgICAgIGZsZXhHcm93LmFwcGVuZENoaWxkKGhlYWRpbmcpO1xuICAgICAgZmxleEdyb3cuYXBwZW5kQ2hpbGQocGFyYWdyYXBoKTtcbiAgICAgIGluZm8uYXBwZW5kQ2hpbGQoZmxleEdyb3cpO1xuXG4gICAgICBjb25zdCBwcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgcHJpY2UuY2xhc3NMaXN0LmFkZChcInByaWNlXCIpO1xuICAgICAgcHJpY2UudGV4dENvbnRlbnQgPSBpdGVtLnByaWNlO1xuICAgICAgaW5mby5hcHBlbmRDaGlsZChwcmljZSk7XG5cbiAgICAgIGNvbnN0IHBob3RvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHBob3RvLmNsYXNzTGlzdC5hZGQoXCJwaG90b1wiKTtcblxuICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgIGltZy5zcmMgPSBpdGVtLmltZ1VSTDtcbiAgICAgIGltZy5hbHQgPSBpdGVtLm5hbWU7XG4gICAgICBwaG90by5hcHBlbmRDaGlsZChpbWcpO1xuXG4gICAgICBpdGVtRGl2LmFwcGVuZENoaWxkKGluZm8pO1xuICAgICAgaXRlbURpdi5hcHBlbmRDaGlsZChwaG90byk7XG5cbiAgICAgIHJldHVybiBpdGVtRGl2O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGJ1aWxkQWJvdXRVc1BhZ2UoKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZChcImNvbnRhaW5lclwiLCBcImFib3V0LWNvbnRhaW5lclwiLCBcImZsZXgtMVwiKTtcblxuICAgIGNvbnN0IGFib3V0VXNIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgYWJvdXRVc0hlYWRlci50ZXh0Q29udGVudCA9IFwiTyBuYXNcIjtcblxuICAgIGNvbnN0IGFib3V0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBhYm91dENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYWJvdXRcIik7XG5cbiAgICBjb25zdCBwaG90b0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcGhvdG9EaXYuY2xhc3NMaXN0LmFkZChcImFib3V0LXBob3RvXCIpO1xuXG4gICAgY29uc3QgcGhvdG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIHBob3RvLnNyYyA9IFwiYXNzZXRzL3JhbWVuLXBlb3BsZS1kb29yLnBuZ1wiO1xuICAgIHBob3RvLmFsdCA9IFwiUmFtZW4gUGVvcGxlIEVudHJhbmNlXCI7XG5cbiAgICBwaG90b0Rpdi5hcHBlbmRDaGlsZChwaG90byk7XG5cbiAgICBjb25zdCBhYm91dFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGFib3V0VGV4dC5jbGFzc0xpc3QuYWRkKFwiYWJvdXQtdGV4dFwiKTtcblxuICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBcIlJhbWVuIFBlb3BsZSDjg6njg7zjg6Hjg7PigKLjg5Tjg7zjg5fjg6tcIjtcblxuICAgIGNvbnN0IHBhcmFncmFwaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHBhcmFncmFwaC50ZXh0Q29udGVudCA9XG4gICAgICBcIlRoZSBSZWFsIFJhbWVuLiBUeWxrbyB1IG5hcyB3IEtyYWtvd2llIHBvem5hY2llIHRvIGRhbmllIHcgd2llbHUgb3J5Z2luYWxueWNoIGphcG/FhHNraWNoIG9kc8WCb25hY2guXCI7XG5cbiAgICBjb25zdCBsb2dvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBsb2dvLnNyYyA9IFwiYXNzZXRzL3JhbWVuLXBlb3BsZS1sb2dvLmpwZ1wiO1xuICAgIGxvZ28uYWx0ID0gXCJSYW1lbiBQZW9wbGUgTG9nb1wiO1xuXG4gICAgYWJvdXRUZXh0LmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgYWJvdXRUZXh0LmFwcGVuZENoaWxkKHBhcmFncmFwaCk7XG4gICAgYWJvdXRUZXh0LmFwcGVuZENoaWxkKGxvZ28pO1xuXG4gICAgYWJvdXRDb250YWluZXIuYXBwZW5kQ2hpbGQocGhvdG9EaXYpO1xuICAgIGFib3V0Q29udGFpbmVyLmFwcGVuZENoaWxkKGFib3V0VGV4dCk7XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYWJvdXRVc0hlYWRlcik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGFib3V0Q29udGFpbmVyKTtcblxuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cblxuICBidWlsZENvbnRhY3RQYWdlKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJjb250YWluZXJcIiwgXCJjb250YWN0LWNvbnRhaW5lclwiLCBcImZsZXgtMVwiKTtcblxuICAgIGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgaGVhZGluZy50ZXh0Q29udGVudCA9IFwiS29udGFrdFwiO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChoZWFkaW5nKTtcblxuICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZChcImNvbnRhY3QtaW5mby13cmFwcGVyXCIpO1xuXG4gICAgY29uc3QgbWFwV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbWFwV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwibWFwLXdyYXBwZXJcIik7XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChtYXBXcmFwcGVyKTtcblxuICAgIGNvbnN0IGNvbnRhY3RJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb250YWN0SW5mby5jbGFzc0xpc3QuYWRkKFwiY29udGFjdC1pbmZvXCIpO1xuXG4gICAgY29uc3QgaGVhZGluZzEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG4gICAgaGVhZGluZzEudGV4dENvbnRlbnQgPSBcIlJhbWVuIFBlb3BsZSAtIE5hZHdpxZtsYcWEc2thXCI7XG4gICAgY29udGFjdEluZm8uYXBwZW5kQ2hpbGQoaGVhZGluZzEpO1xuXG4gICAgY29uc3QgZGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGVzYy5jbGFzc0xpc3QuYWRkKFwibXV0ZWRcIiwgXCJyb3dcIik7XG4gICAgZGVzYy50ZXh0Q29udGVudCA9IFwiSmFwb8WEc2tpZSDigKIgTWlzZWN6a2kgcnnFvHUg4oCiIEF6amF0eWNraWUg4oCiICQkXCI7XG4gICAgY29udGFjdEluZm8uYXBwZW5kQ2hpbGQoZGVzYyk7XG5cbiAgICBjb25zdCBhZGRyZXNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBhZGRyZXNzLmNsYXNzTGlzdC5hZGQoXCJpbmZvXCIsIFwicm93XCIpO1xuICAgIGNvbnN0IHN2ZzEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICBzdmcxLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiMjRcIik7XG4gICAgc3ZnMS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgXCIyNFwiKTtcbiAgICBjb25zdCBwYXRoMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwicGF0aFwiXG4gICAgKTtcbiAgICBwYXRoMS5zZXRBdHRyaWJ1dGUoXG4gICAgICBcImRcIixcbiAgICAgIFwiTTE3LjU4MzQgNS4xNjYwMkMxNC41MDAxIDIuMDgyNjggOS41MDAwOCAyLjA4MjY4IDYuNDE2NzUgNS4xNjYwMkMzLjMzMzQxIDguMjQ5MzUgMy4zMzM0MSAxMy4zMzI3IDYuNDE2NzUgMTYuNDE2TDEyLjAwMDEgMjEuOTk5M0wxNy41ODM0IDE2LjMzMjdDMjAuNjY2NyAxMy4zMzI3IDIwLjY2NjcgOC4yNDkzNSAxNy41ODM0IDUuMTY2MDJaTTEyLjAwMDEgMTIuNDE2QzExLjA4MzQgMTIuNDE2IDEwLjMzMzQgMTEuNjY2IDEwLjMzMzQgMTAuNzQ5M0MxMC4zMzM0IDkuODMyNjggMTEuMDgzNCA5LjA4MjY4IDEyLjAwMDEgOS4wODI2OEMxMi45MTY3IDkuMDgyNjggMTMuNjY2NyA5LjgzMjY4IDEzLjY2NjcgMTAuNzQ5M0MxMy42NjY3IDExLjY2NiAxMi45MTY3IDEyLjQxNiAxMi4wMDAxIDEyLjQxNlpcIlxuICAgICk7XG4gICAgcGF0aDEuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIiMwMDAwMDBcIik7XG4gICAgc3ZnMS5hcHBlbmRDaGlsZChwYXRoMSk7XG4gICAgYWRkcmVzcy5hcHBlbmRDaGlsZChzdmcxKTtcbiAgICBjb25zdCBhZGRyZXNzVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGFkZHJlc3NUZXh0LnRleHRDb250ZW50ID0gXCJOYWR3acWbbGHFhHNrYSA1L0wxLCBLcmFrw7N3LCAzMC01MjdcIjtcbiAgICBhZGRyZXNzLmFwcGVuZENoaWxkKGFkZHJlc3NUZXh0KTtcbiAgICBjb250YWN0SW5mby5hcHBlbmRDaGlsZChhZGRyZXNzKTtcblxuICAgIGNvbnN0IG9wZW5Ib3VycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgb3BlbkhvdXJzLmNsYXNzTGlzdC5hZGQoXCJpbmZvXCIsIFwicm93XCIpO1xuICAgIGNvbnN0IHN2ZzIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICBzdmcyLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiMjRcIik7XG4gICAgc3ZnMi5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgXCIyNFwiKTtcbiAgICBjb25zdCBwYXRoMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwicGF0aFwiXG4gICAgKTtcbiAgICBwYXRoMi5zZXRBdHRyaWJ1dGUoXG4gICAgICBcImRcIixcbiAgICAgIFwiTTEyIDIuODMzOThDNi45MTY3MSAyLjgzMzk4IDIuODMzMzcgNi45MTczMiAyLjgzMzM3IDEyLjAwMDdDMi44MzMzNyAxNy4wODQgNi45MTY3MSAyMS4xNjczIDEyIDIxLjE2NzNDMTcuMDgzNCAyMS4xNjczIDIxLjE2NjcgMTcuMDg0IDIxLjE2NjcgMTIuMDAwN0MyMS4xNjY3IDYuOTE3MzIgMTcuMDgzNCAyLjgzMzk4IDEyIDIuODMzOThaTTE3IDEzLjY2NzNIMTAuMzMzNFY1LjMzMzk4SDEyLjgzMzRWMTEuMTY3M0gxN1YxMy42NjczWlwiXG4gICAgKTtcbiAgICBwYXRoMi5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwiIzAwMDAwMFwiKTtcbiAgICBzdmcyLmFwcGVuZENoaWxkKHBhdGgyKTtcbiAgICBvcGVuSG91cnMuYXBwZW5kQ2hpbGQoc3ZnMik7XG4gICAgY29uc3Qgb3BlbkhvdXJzVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIG9wZW5Ib3Vyc1RleHQudGV4dENvbnRlbnQgPSBcIk90d2FydGUgZG8gOTowMCBQTVwiO1xuICAgIG9wZW5Ib3Vycy5hcHBlbmRDaGlsZChvcGVuSG91cnNUZXh0KTtcbiAgICBjb250YWN0SW5mby5hcHBlbmRDaGlsZChvcGVuSG91cnMpO1xuXG4gICAgY29uc3QgcmF0aW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICByYXRpbmcuY2xhc3NMaXN0LmFkZChcImluZm9cIiwgXCJyb3dcIik7XG4gICAgY29uc3Qgc3ZnMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICAgIHN2ZzMuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgXCIyNFwiKTtcbiAgICBzdmczLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBcIjI0XCIpO1xuICAgIGNvbnN0IHBhdGgzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgXCJwYXRoXCJcbiAgICApO1xuICAgIHBhdGgzLnNldEF0dHJpYnV0ZShcbiAgICAgIFwiZFwiLFxuICAgICAgXCJNMTIuNDU4IDFsMy42NDYgNyA3LjgxMy41LTUuNzMgNS41IDIuMDg0IDgtNy44MTMtNC03LjgxMiA0IDIuMDgzLThMMSA4LjUgOC44MTMgOGwzLjY0NS03elwiXG4gICAgKTtcbiAgICBwYXRoMy5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwiIzAwMDAwMFwiKTtcbiAgICBzdmczLmFwcGVuZENoaWxkKHBhdGgzKTtcbiAgICByYXRpbmcuYXBwZW5kQ2hpbGQoc3ZnMyk7XG4gICAgY29uc3QgcmF0aW5nVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHJhdGluZ1RleHQudGV4dENvbnRlbnQgPSBcIjQuOCAobGljemJhIG9jZW46IDIwMCspXCI7XG4gICAgcmF0aW5nLmFwcGVuZENoaWxkKHJhdGluZ1RleHQpO1xuICAgIGNvbnRhY3RJbmZvLmFwcGVuZENoaWxkKHJhdGluZyk7XG5cbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGNvbnRhY3RJbmZvKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG5cbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9XG59XG4iLCJpbXBvcnQgeyBCb2R5QnVpbGRlciB9IGZyb20gXCIuL2JvZHktYnVpbGRlclwiO1xuXG5leHBvcnQgY29uc3QgQUJPVVRfVVMgPSBcImFib3V0LXVzXCI7XG5leHBvcnQgY29uc3QgTUVOVSA9IFwibWVudVwiO1xuZXhwb3J0IGNvbnN0IENPTlRBQ1QgPSBcImNvbnRhY3RcIjtcblxuZXhwb3J0IGNsYXNzIFNpdGVCdWlsZGVyIHtcbiAgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGVudFwiKTtcbiAgbmF2QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2LWl0ZW0gYnV0dG9uXCIpO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYm9keUJ1aWxkZXIgPSBuZXcgQm9keUJ1aWxkZXIoKTtcbiAgICB0aGlzLmJvZHlCdWlsZGVyLnRlc3QoKTtcbiAgfVxuXG4gIGJ1aWxkSGVhZGVyKCkge1xuICAgIGNvbnN0IGNvbXBhbnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbXBhbnkuY2xhc3NMaXN0LmFkZChcImNvbXBhbnlcIik7XG5cbiAgICBjb25zdCBncmFkaWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZ3JhZGllbnQuY2xhc3NMaXN0LmFkZChcImdyYWRpZW50XCIpO1xuXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZChcImNvbnRhaW5lclwiKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZChcInAtMzBcIik7XG5cbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIik7XG4gICAgdGl0bGUuaW5uZXJIVE1MID0gXCJSYW1lbiBQZW9wbGUg44Op44O844Oh44Oz4oCi44OU44O844OX44OrIDxici8+TmFkd2nFm2xhxYRza2FcIjtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG4gICAgY29uc3QgcGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgcGFyYWdyYXBoLmlubmVySFRNTCA9XG4gICAgICBcIjxzcGFuIGNsYXNzPSdyYXRpbmcnPjQuOCgyMDArKTwvc3Bhbj4g4oCiIFd5xZt3aWV0bCBjemFzIGRvc3Rhd3kgaSBvcMWCYXTEmSB6YSB6bGVjZW5pZS4gPGEgaHJlZj0nIyc+UG9kYWogYWRyZXMgZG9zdGF3eTwvYT5cIjtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocGFyYWdyYXBoKTtcblxuICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJmYXYtYnV0dG9uXCIpO1xuXG4gICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiMjRcIik7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBcIjI0XCIpO1xuICAgIGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgcGF0aC5zZXRBdHRyaWJ1dGUoXG4gICAgICBcImRcIixcbiAgICAgIFwiTTE2IDVjMi41IDAgNCAxLjkgNCA0LjIgMCAxLjItLjYgMi4zLTEuMyAzLjFDMTcuNSAxMy41IDEyIDE4IDEyIDE4cy01LjUtNC41LTYuNy01LjdDNC41IDExLjUgNCAxMC40IDQgOS4yIDQgNi45IDUuNSA1IDggNWMxLjcgMCAzLjMgMS42IDQgMyAuNy0xLjQgMi4zLTMgNC0zem0wLTNjLTEuNSAwLTIuOS42LTQgMS40QzEwLjkgMi41IDkuNSAyIDggMiA0IDIgMSA1LjEgMSA5LjJjMCAxLjkuOCAzLjcgMi4yIDUuMiAxLjQgMS41IDguOCA3LjUgOC44IDcuNXM3LjQtNiA4LjgtNy41YzEuNC0xLjUgMi4yLTMuMyAyLjItNS4yQzIzIDUuMSAyMCAyIDE2IDJ6XCJcbiAgICApO1xuXG4gICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChzdmcpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgIGdyYWRpZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29tcGFueS5hcHBlbmRDaGlsZChncmFkaWVudCk7XG5cbiAgICByZXR1cm4gY29tcGFueTtcbiAgfVxuXG4gIGJ1aWxkTmF2KHBhZ2VJZCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJjb250YWluZXJcIik7XG5cbiAgICBjb25zdCBuYXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibmF2XCIpO1xuICAgIG5hdi5jbGFzc0xpc3QuYWRkKFwibmF2XCIpO1xuXG4gICAgY29uc3QgbmF2SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbmF2SXRlbS5jbGFzc0xpc3QuYWRkKFwibmF2LWl0ZW1cIik7XG5cbiAgICBjb25zdCBhYm91dFVzQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBhYm91dFVzQnRuLnRleHRDb250ZW50ID0gXCJPIG5hc1wiO1xuICAgIGFib3V0VXNCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUNsaWNrQWJvdXRVcyhlKTtcbiAgICB9KTtcbiAgICBpZiAocGFnZUlkID09PSBBQk9VVF9VUykge1xuICAgICAgYWJvdXRVc0J0bi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgIH1cbiAgICBuYXZJdGVtLmFwcGVuZENoaWxkKGFib3V0VXNCdG4pO1xuXG4gICAgY29uc3QgbmF2SXRlbTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5hdkl0ZW0xLmNsYXNzTGlzdC5hZGQoXCJuYXYtaXRlbVwiKTtcblxuICAgIGNvbnN0IG1lbnVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIG1lbnVCdXR0b24udGV4dENvbnRlbnQgPSBcIk1lbnVcIjtcbiAgICBtZW51QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVDbGlja01lbnUoZSk7XG4gICAgfSk7XG4gICAgaWYgKHBhZ2VJZCA9PT0gTUVOVSkge1xuICAgICAgbWVudUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgIH1cbiAgICBuYXZJdGVtMS5hcHBlbmRDaGlsZChtZW51QnV0dG9uKTtcblxuICAgIGNvbnN0IG5hdkl0ZW0yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBuYXZJdGVtMi5jbGFzc0xpc3QuYWRkKFwibmF2LWl0ZW1cIik7XG5cbiAgICBjb25zdCBjb250YWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb250YWN0QnV0dG9uLnRleHRDb250ZW50ID0gXCJLb250YWt0XCI7XG4gICAgY29udGFjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlQ2xpY2tDb250YWN0KGUpO1xuICAgIH0pO1xuICAgIGlmIChwYWdlSWQgPT09IENPTlRBQ1QpIHtcbiAgICAgIGNvbnRhY3RCdXR0b24uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICB9XG4gICAgbmF2SXRlbTIuYXBwZW5kQ2hpbGQoY29udGFjdEJ1dHRvbik7XG5cbiAgICBuYXYuYXBwZW5kQ2hpbGQobmF2SXRlbSk7XG4gICAgbmF2LmFwcGVuZENoaWxkKG5hdkl0ZW0xKTtcbiAgICBuYXYuYXBwZW5kQ2hpbGQobmF2SXRlbTIpO1xuXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5hdik7XG5cbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2tBYm91dFVzKGUpIHtcbiAgICB0aGlzLnJlYnVpbGQoQUJPVVRfVVMpO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2tNZW51KGUpIHtcbiAgICB0aGlzLnJlYnVpbGQoTUVOVSk7XG4gIH1cblxuICBoYW5kbGVDbGlja0NvbnRhY3QoZSkge1xuICAgIHRoaXMucmVidWlsZChDT05UQUNUKTtcbiAgfVxuXG4gIGJ1aWxkRm9vdGVyKCkge1xuICAgIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb290ZXJcIik7XG4gICAgZm9vdGVyLmNsYXNzTGlzdC5hZGQoXCJtdC0zMFwiKTtcblxuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBzcGFuLmlubmVySFRNTCA9XG4gICAgICBcIkNyZWF0ZWQgYnkgPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL2ZiaWVybmF0Jz5mYmllcm5hdDwvYT4gMjAyMVwiO1xuXG4gICAgZm9vdGVyLmFwcGVuZENoaWxkKHNwYW4pO1xuXG4gICAgcmV0dXJuIGZvb3RlcjtcbiAgfVxuXG4gIGNsZWFyRE9NKCkge1xuICAgIHRoaXMuY29udGVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICBidWlsZCgpIHtcbiAgICB0aGlzLnJlYnVpbGQoQUJPVVRfVVMpO1xuICB9XG5cbiAgcmVidWlsZChwYWdlSWQpIHtcbiAgICB0aGlzLmNsZWFyRE9NKCk7XG4gICAgdGhpcy5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMuYnVpbGRIZWFkZXIoKSk7XG4gICAgdGhpcy5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMuYnVpbGROYXYocGFnZUlkKSk7XG4gICAgbGV0IGJvZHkgPSB0aGlzLmJvZHlCdWlsZGVyLmJ1aWxkKHBhZ2VJZCk7XG4gICAgdGhpcy5jb250ZW50LmFwcGVuZENoaWxkKGJvZHkpO1xuICAgIHRoaXMuY29udGVudC5hcHBlbmQodGhpcy5idWlsZEZvb3RlcigpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU2l0ZUJ1aWxkZXIgfSBmcm9tICcuL3NpdGUtYnVpbGRlcidcblxuY29uc3Qgc2l0ZUJ1aWxkZXIgPSBuZXcgU2l0ZUJ1aWxkZXIoKTtcbnNpdGVCdWlsZGVyLmJ1aWxkKCk7XG4iXSwibmFtZXMiOlsiUmFtZW5NZW51MSIsIm5hbWUiLCJkZXNjIiwicHJpY2UiLCJpbWdVUkwiLCJSYW1lbk1lbnUyIiwiQm9keUJ1aWxkZXIiLCJtZW51MSIsIm1lbnUyIiwidGVzdCIsImNvbnNvbGUiLCJsb2ciLCJidWlsZCIsImNvbnRlbnRJZCIsIkFCT1VUX1VTIiwidGhpcyIsImJ1aWxkQWJvdXRVc1BhZ2UiLCJNRU5VIiwiYnVpbGRNZW51UGFnZSIsIkNPTlRBQ1QiLCJidWlsZENvbnRhY3RQYWdlIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaGVhZGVyIiwidGV4dENvbnRlbnQiLCJpdGVtcyIsImFwcGVuZENoaWxkIiwibWFwIiwiaXRlbSIsImNyZWF0ZUl0ZW0iLCJoZWFkZXIyIiwiaXRlbXMyIiwiaXRlbURpdiIsImluZm8iLCJmbGV4R3JvdyIsImhlYWRpbmciLCJwYXJhZ3JhcGgiLCJwaG90byIsImltZyIsInNyYyIsImFsdCIsImFib3V0VXNIZWFkZXIiLCJhYm91dENvbnRhaW5lciIsInBob3RvRGl2IiwiYWJvdXRUZXh0IiwibG9nbyIsIndyYXBwZXIiLCJtYXBXcmFwcGVyIiwiY29udGFjdEluZm8iLCJoZWFkaW5nMSIsImFkZHJlc3MiLCJzdmcxIiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlIiwicGF0aDEiLCJhZGRyZXNzVGV4dCIsIm9wZW5Ib3VycyIsInN2ZzIiLCJwYXRoMiIsIm9wZW5Ib3Vyc1RleHQiLCJyYXRpbmciLCJzdmczIiwicGF0aDMiLCJyYXRpbmdUZXh0IiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXZCdXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbnN0cnVjdG9yIiwiYm9keUJ1aWxkZXIiLCJidWlsZEhlYWRlciIsImNvbXBhbnkiLCJncmFkaWVudCIsInRpdGxlIiwiaW5uZXJIVE1MIiwiYnV0dG9uIiwic3ZnIiwicGF0aCIsImJ1aWxkTmF2IiwicGFnZUlkIiwibmF2IiwibmF2SXRlbSIsImFib3V0VXNCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImhhbmRsZUNsaWNrQWJvdXRVcyIsIm5hdkl0ZW0xIiwibWVudUJ1dHRvbiIsImhhbmRsZUNsaWNrTWVudSIsIm5hdkl0ZW0yIiwiY29udGFjdEJ1dHRvbiIsImhhbmRsZUNsaWNrQ29udGFjdCIsInJlYnVpbGQiLCJidWlsZEZvb3RlciIsImZvb3RlciIsInNwYW4iLCJjbGVhckRPTSIsImJvZHkiLCJhcHBlbmQiXSwic291cmNlUm9vdCI6IiJ9